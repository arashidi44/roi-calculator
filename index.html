
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API ROI Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans p-6">
  <div class="max-w-3xl mx-auto bg-white shadow-xl rounded-2xl p-6">
    <h1 class="text-2xl font-bold mb-4">API ROI Calculator</h1>

    <!-- Inputs -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block font-semibold">Tier</label>
        <select id="tier" class="w-full p-2 border rounded">
          <option value="Explorer">Explorer</option>
          <option value="Growth">Growth</option>
          <option value="Professional">Professional</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold">Win Rate (%)</label>
        <input id="winRate" type="number" value="0.5" step="0.1" class="w-full p-2 border rounded" />
      </div>
      <div>
        <label class="block font-semibold">Average Deal Value ($)</label>
        <input id="dealValue" type="number" value="10000" step="100" class="w-full p-2 border rounded" />
      </div>
      <div>
        <label class="block font-semibold">Outreach Success Rate (%)</label>
        <input id="outreachRate" type="number" value="100" step="1" class="w-full p-2 border rounded" />
      </div>
    </div>

    <button onclick="calculateROI()" class="mt-6 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Calculate</button>

    <!-- Results -->
    <div id="results" class="mt-6 hidden">
      <h2 class="text-xl font-semibold mb-2">Results</h2>
      <p><strong>Reachable Leads/Month:</strong> <span id="leads"></span></p>
      <p><strong>Deals Closed/Month:</strong> <span id="deals"></span></p>
      <p><strong>Monthly Revenue:</strong> $<span id="monthlyRev"></span></p>
      <p><strong>Annual Revenue:</strong> $<span id="annualRev"></span></p>
    </div>

    <!-- Chart -->
    <canvas id="roiChart" class="mt-8 hidden"></canvas>
  </div>

  <script>
    const tiers = {
      Explorer: { requests: 5, pageSize: 10, price: 500 },
      Growth: { requests: 10, pageSize: 10, price: 1000 },
      Professional: { requests: 100, pageSize: 30, price: 5000 },
    };

    let chart;

    function calculateROI() {
      const tier = document.getElementById('tier').value;
      const winRate = parseFloat(document.getElementById('winRate').value) / 100;
      const dealValue = parseFloat(document.getElementById('dealValue').value);
      const outreachRate = parseFloat(document.getElementById('outreachRate').value) / 100;

      const config = tiers[tier];
      const leads = config.requests * 30 * config.pageSize;
      const contacted = leads * outreachRate;
      const deals = contacted * winRate;
      const monthlyRevenue = deals * dealValue;
      const annualRevenue = monthlyRevenue * 12;
      const roi = ((annualRevenue - config.price) / config.price) * 100;

      document.getElementById('results').classList.remove('hidden');
      document.getElementById('leads').innerText = leads.toFixed(0);
      document.getElementById('deals').innerText = deals.toFixed(2);
      document.getElementById('monthlyRev').innerText = monthlyRevenue.toLocaleString();
      document.getElementById('annualRev').innerText = annualRevenue.toLocaleString();

      const ctx = document.getElementById('roiChart').getContext('2d');
      document.getElementById('roiChart').classList.remove('hidden');

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Annual Revenue', 'Annual Cost'],
          datasets: [{
            label: 'Amount ($)',
            data: [annualRevenue, config.price],
            backgroundColor: ['#4ade80', '#60a5fa']
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
    }
  </script>
</body>
</html>
