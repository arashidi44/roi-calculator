<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects API ROI Calculator</title>
  <style>
    html, body {
      background-color: #f1f5f9;
      margin: 0;
      padding: 0;
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      max-width: 640px;
      margin: 50px auto;
      padding: 32px;
      border-radius: 12px;
      background: white;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.07);
    }

    h2 {
      text-align: center;
      color: #1e293b;
      margin-bottom: 30px;
      font-size: 26px;
    }

    label {
      display: block;
      margin-top: 20px;
      font-weight: 600;
      color: #334155;
      font-size: 14px;
    }

    input, select {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      font-size: 15px;
      transition: border 0.2s ease;
      box-sizing: border-box;
    }

    input:focus, select:focus {
      border-color: #3b82f6;
      outline: none;
    }

    .output {
      margin-top: 40px;
      padding: 24px;
      background: #f8fafc;
      border-left: 5px solid #3b82f6;
      border-radius: 8px;
      color: #1e293b;
    }

    .output strong {
      font-size: 18px;
      display: block;
      margin-bottom: 15px;
      color: #1d4ed8;
    }

    .roi {
      margin-top: 24px;
      font-size: 22px;
      font-weight: bold;
    }

    .roi.positive {
      color: #16a34a;
    }

    .roi.negative {
      color: #dc2626;
    }

    .tier-info {
      font-size: 14px;
      margin-top: 8px;
      color: #64748b;
    }

    .footer-note {
      text-align: center;
      font-size: 13px;
      margin-top: 40px;
      color: #64748b;
    }
  </style>
</head>
<body>
  <h2>PlanHub API ROI Calculator</h2>

  <label for="tier">Select Tier:</label>
  <select id="tier">
    <option value="explorer">Explorer (300 records/month)</option>
    <option value="growth">Growth (1,500 records/month)</option>
    <option value="professional">Professional (4,500 records/month)</option>
  </select>
  <div class="tier-info" id="tierInfo"></div>

  <label for="winRate">Avg. Monthly Win Rate (%):</label>
  <input type="number" id="winRate" placeholder="e.g. 2.5" step="0.1" />

  <label for="dealSize">Avg. Deal Size ($):</label>
  <input type="number" id="dealSize" placeholder="e.g. 10000" step="100" />

  <div class="output" id="results"></div>

  <div class="footer-note">
    * Relevance rate is based on average targeting efficiency by tier. ROI assumes full usage.
  </div>

  <script>
    const tierConfig = {
      explorer: {
        monthlyRecords: 300,
        annualCost: 600 * 12,
        relevanceRate: 0.5
      },
      growth: {
        monthlyRecords: 1500,
        annualCost: 1500 * 12,
        relevanceRate: 0.75
      },
      professional: {
        monthlyRecords: 4500,
        annualCost: 3825 * 12,
        relevanceRate: 0.85
      }
    };

    const tierSelect = document.getElementById('tier');
    const winRateInput = document.getElementById('winRate');
    const dealSizeInput = document.getElementById('dealSize');
    const resultsDiv = document.getElementById('results');
    const tierInfoDiv = document.getElementById('tierInfo');

    function formatPercent(decimal) {
      return `${Math.round(decimal * 100)}%`;
    }

    function calculateROI() {
      const selectedTier = tierSelect.value;
      const config = tierConfig[selectedTier];

      const winRate = parseFloat(winRateInput.value);
      const dealSize = parseFloat(dealSizeInput.value);

      tierInfoDiv.textContent = `Estimated qualified project rate for ${selectedTier.charAt(0).toUpperCase() + selectedTier.slice(1)} tier: ${formatPercent(config.relevanceRate)}`;

      if (isNaN(winRate) || isNaN(dealSize) || winRate < 0 || dealSize <= 0) {
        resultsDiv.innerHTML = '';
        return;
      }

      const winRateDecimal = winRate / 100;
      const records = config.monthlyRecords;
      const qualifiedRecords = records * config.relevanceRate;
      const dealsWonMonthly = qualifiedRecords * winRateDecimal;
      const dealsWonAnnually = dealsWonMonthly * 12;
      const monthlyRevenue = dealsWonMonthly * dealSize;
      const annualRevenue = monthlyRevenue * 12;

      const annualCost = config.annualCost;
      const roiPercent = ((annualRevenue - annualCost) / annualCost) * 100;
      const roiClass = roiPercent >= 0 ? 'positive' : 'negative';
      const roiRounded = Math.round(roiPercent).toLocaleString();

      resultsDiv.innerHTML = `
        <strong>Estimated Results</strong>
        <div>Total Records / Mo: <strong>${records.toLocaleString()}</strong></div>
        <div>Qualified Projects / Mo: <strong>${Math.round(qualifiedRecords).toLocaleString()}</strong></div>
        <div>Deals Won / Mo: <strong>${dealsWonMonthly.toFixed(0)}</strong></div>
        <div>Est. Monthly Revenue: <strong>$${Math.round(monthlyRevenue).toLocaleString()}</strong></div>
        <div>Est. Annual Revenue: <strong>$${Math.round(annualRevenue).toLocaleString()}</strong></div>
        <div>Annual Subscription Cost: <strong>$${annualCost.toLocaleString()}</strong></div>
        <div class="roi ${roiClass}">Annual ROI: ${roiRounded}%</div>
      `;
    }

    tierSelect.addEventListener('change', calculateROI);
    winRateInput.addEventListener('input', calculateROI);
    dealSizeInput.addEventListener('input', calculateROI);
  </script>
</body>
</html>
